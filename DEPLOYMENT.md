# News Curator Agent - Deployment Guide

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–≥–µ–Ω—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ 3-4 "–≥–æ—Ä—è—á–∏—Ö" –Ω–æ–≤–æ—Å—Ç–µ–π –≤ Twitter –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- Twitter Developer –∞–∫–∫–∞—É–Ω—Ç
- OpenAI API –∫–ª—é—á
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) NewsAPI.org –∫–ª—é—á

### –®–∞–≥–∏

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone <repo-url>
cd hot-news-agent
```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env
nano .env  # –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏:
```env
OPENAI_API_KEY=sk-...
TWITTER_BEARER_TOKEN=...
TWITTER_CONSUMER_KEY=...
TWITTER_CONSUMER_SECRET=...
TWITTER_ACCESS_TOKEN=...
TWITTER_ACCESS_TOKEN_SECRET=...

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
NEWSAPI_KEY=...

# n8n –¥–æ—Å—Ç—É–ø
N8N_USER=admin
N8N_PASSWORD=your_secure_password_here
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã**
```bash
docker-compose up -d
```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å**
```bash
docker-compose ps
docker-compose logs -f
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- `news-curator-api` (Python API) - –ø–æ—Ä—Ç 8000
- `news-curator-n8n` (n8n) - –ø–æ—Ä—Ç 5678

5. **–û—Ç–∫—Ä—ã—Ç—å n8n UI**
```
http://localhost:5678
```

–õ–æ–≥–∏–Ω: `admin` (–∏–∑ .env)
–ü–∞—Ä–æ–ª—å: –∏–∑ `N8N_PASSWORD`

6. **–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å workflow**

Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `/n8n/workflows/news-curator-production.json`

–û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ UI –∏ –Ω–∞–∂–º–∏—Ç–µ "Activate" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É.

7. **–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫**

–í n8n UI:
- –û—Ç–∫—Ä–æ–π—Ç–µ workflow "News Curator (Production - Python API)"
- –ù–∞–∂–º–∏—Ç–µ "Execute Workflow"
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30-60 —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Twitter –∞–∫–∫–∞—É–Ω—Ç

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ò–°–¢–û–ß–ù–ò–ö–ò                 n8n WORKFLOW              PYTHON API           –í–´–•–û–î
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ           ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Electrek ‚îÇ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Road.cc  ‚îÇ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ Normalize   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ          ‚îÇ    Data     ‚îÇ
              ‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                 ‚îÇ
‚îÇBikeRadar ‚îÇ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ
                                ‚îÇ [50-100 news items]
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ
‚îÇ NewsAPI  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ HTTP POST
                                ‚ñº
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ /score-and-    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ  OpenAI API  ‚îÇ
                        ‚îÇ   rewrite      ‚îÇ       ‚îÇ  Embeddings  ‚îÇ
                        ‚îÇ                ‚îÇ<‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   + GPT-4o   ‚îÇ
                        ‚îÇ  Scoring:      ‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ  ‚Ä¢ Freshness   ‚îÇ
                        ‚îÇ  ‚Ä¢ Virality    ‚îÇ
                        ‚îÇ  ‚Ä¢ Relevance   ‚îÇ       [JSON Response]
                        ‚îÇ  ‚Ä¢ Sentiment   ‚îÇ
                        ‚îÇ  ‚Ä¢ Uniqueness  ‚îÇ
                        ‚îÇ                ‚îÇ
                        ‚îÇ  Rewrite:      ‚îÇ
                        ‚îÇ  ‚Ä¢ Generate 2x ‚îÇ
                        ‚îÇ  ‚Ä¢ Pick best   ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚îÇ [Top 3 scored + tweets]
                                 ‚îÇ
                                 ‚ñº
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ Filter Score   ‚îÇ
                        ‚îÇ   > 0.4        ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚ñº
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ Format Tweet   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ Twitter API  ‚îÇ
                        ‚îÇ  + Add URL     ‚îÇ       ‚îÇ   Publish    ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                          ‚îÇ
                                                          ‚ñº
                                                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                  ‚îÇ   @YourBot   ‚îÇ
                                                  ‚îÇ  3 tweets/8h ‚îÇ
                                                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **n8n Container** (port 5678) - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è, —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- **Python API** (port 8000) - AI —Å–∫–æ—Ä–∏–Ω–≥ –∏ —Ä–µ—Ä–∞–π—Ç
- **Docker Network** - —Å–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—ã –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/topics.yaml`:
```yaml
topics:
  - name: "Bicycle Insurance"
    keywords:
      - "bicycle insurance"
      - "bike insurance"
      - "e-bike insurance"
```

–ò–ª–∏ –≤ n8n workflow –Ω–∞–π–¥–∏—Ç–µ –Ω–æ–¥—É "Python API: Score & Rewrite" –∏ –∏–∑–º–µ–Ω–∏—Ç–µ `topic_keywords`.

### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

–í n8n:
1. –û—Ç–∫—Ä–æ–π—Ç–µ workflow
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ "Schedule (8h)"
3. –ò–∑–º–µ–Ω–∏—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, 6 —á–∞—Å–æ–≤ –≤–º–µ—Å—Ç–æ 8)

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤

–í –Ω–æ–¥–µ "Python API: Score & Rewrite" –∏–∑–º–µ–Ω–∏—Ç–µ:
```json
"top_n": 3  // –Ω–∞ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –∫–∞—á–µ—Å—Ç–≤–∞

–í –Ω–æ–¥–µ "Filter (score > 0.4)" –∏–∑–º–µ–Ω–∏—Ç–µ:
```json
"value2": 0.4  // –Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–∞ 0.5 –¥–ª—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Python API
```bash
curl http://localhost:8000/health
```

–û—Ç–≤–µ—Ç:
```json
{
  "status": "healthy",
  "openai_key": "set",
  "scorer": "ready",
  "rewriter": "ready"
}
```

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫–æ—Ä–∏–Ω–≥
```bash
curl -X POST http://localhost:8000/score \
  -H "Content-Type: application/json" \
  -d '{
    "news": [{
      "title": "E-bike sales surge in 2026",
      "summary": "Electric bicycle market grows 47% in Q1",
      "url": "https://example.com",
      "published_at": "2026-02-18T10:00:00Z",
      "source": "newsapi"
    }],
    "topic_keywords": ["e-bike", "electric bicycle"],
    "top_n": 1
  }'
```

### Dry-run (–ë–ï–ó –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Twitter)

–í n8n workflow:
1. –û—Ç–∫–ª—é—á–∏—Ç–µ –Ω–æ–¥—É "Twitter Post" (–∫–ª–∏–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Disable)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ workflow
3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–≤–∏–¥–∏—Ç–µ –≤ n8n UI (–Ω–µ –±—É–¥—É—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã)

---

## üìù –õ–æ–≥–∏ –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f

# –¢–æ–ª—å–∫–æ n8n
docker-compose logs -f n8n

# –¢–æ–ª—å–∫–æ Python API
docker-compose logs -f scoring-api
```

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose ps
```

### –†–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –†–µ—Å—Ç–∞—Ä—Ç –≤—Å–µ–≥–æ
docker-compose restart

# –†–µ—Å—Ç–∞—Ä—Ç —Ç–æ–ª—å–∫–æ API
docker-compose restart scoring-api

# –†–µ—Å—Ç–∞—Ä—Ç —Ç–æ–ª—å–∫–æ n8n
docker-compose restart n8n
```

---

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

### OpenAI API
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è: https://platform.openai.com/
2. –°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á: https://platform.openai.com/api-keys
3. –î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º $5 –Ω–∞ –±–∞–ª–∞–Ω—Å
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á ‚Üí `OPENAI_API_KEY` –≤ `.env`

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$5-15/–º–µ—Å—è—Ü (embeddings + GPT-4o-mini)

### Twitter/X Developer
1. –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É: https://developer.twitter.com/
2. –°–æ–∑–¥–∞—Ç—å App –≤ Developer Portal
3. –ü–æ–ª—É—á–∏—Ç—å OAuth 1.0a credentials:
   - Consumer Key
   - Consumer Secret
   - Access Token
   - Access Token Secret
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ `.env`

**–õ–∏–º–∏—Ç—ã:** Basic tier = 1500 —Ç–≤–∏—Ç–æ–≤/–º–µ—Å—è—Ü (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### NewsAPI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è: https://newsapi.org/register
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å API –∫–ª—é—á ‚Üí `NEWSAPI_KEY`

**–õ–∏–º–∏—Ç—ã:** 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ NewsAPI, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ RSS —Ñ–∏–¥—ã.

---

## üêõ Troubleshooting

### Python API –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç

```bash
docker-compose logs scoring-api
```

–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- `OPENAI_API_KEY` –Ω–µ –∑–∞–¥–∞–Ω
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `.env` —Ñ–∞–π–ª–∞
- –ü–æ—Ä—Ç 8000 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º

–†–µ—à–µ–Ω–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
cat .env | grep OPENAI_API_KEY

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
lsof -i :8000

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up -d --build scoring-api
```

### n8n –Ω–µ –≤–∏–¥–∏—Ç Python API

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏:
```bash
docker network ls
docker network inspect hot-news-agent_news-curator
```

–í n8n –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π URL: `http://scoring-api:8000`

### Twitter –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ 4 —Ç–æ–∫–µ–Ω–∞ –∑–∞–¥–∞–Ω—ã –≤ `.env`
2. –í n8n UI: Credentials ‚Üí Twitter OAuth1 API ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ OAuth flow

### Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ workflow **–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** (Toggle –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ timezone: `GENERIC_TIMEZONE=America/New_York` –≤ docker-compose.yml
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cron expression –≤ Schedule –Ω–æ–¥–µ

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Production deployment

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –¥–ª—è production:
```env
N8N_PASSWORD=changeme  # –°–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
```env
N8N_PASSWORD=<—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å_32+_—Å–∏–º–≤–æ–ª–æ–≤>
```

### –î–æ—Å—Ç—É–ø –∫ n8n UI

–î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (nginx):
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:5678;
        proxy_set_header Host $host;
    }
}
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ n8n Cloud: https://n8n.io/cloud

### –°–µ–∫—Ä–µ—Ç—ã

**–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` –≤ Git!

–§–∞–π–ª `.gitignore` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
```
.env
config/.env
```

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–π

–¢–µ–∫—É—â–∞—è: 3 –ø–æ—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤ = 9 –ø–æ—Å—Ç–æ–≤/–¥–µ–Ω—å

–î–ª—è 12 –ø–æ—Å—Ç–æ–≤/–¥–µ–Ω—å:
- –í–∞—Ä–∏–∞–Ω—Ç 1: 3 –ø–æ—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- –í–∞—Ä–∏–∞–Ω—Ç 2: 4 –ø–æ—Å—Ç–∞ –∫–∞–∂–¥—ã–µ 8 —á–∞—Å–æ–≤

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ Schedule –Ω–æ–¥–µ.

### –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ workflow, –¥–æ–±–∞–≤—å—Ç–µ RSS Read –Ω–æ–¥—ã:
```
CyclingTips: https://cyclingtips.com/feed/
BikeRadar: https://www.bikeradar.com/feed/
Electrek: https://electrek.co/feed/
```

### –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

–î–ª—è –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º:
1. –í `config/topics.yaml` –∏–∑–º–µ–Ω–∏—Ç–µ `language: ru`
2. –í LLM rewriter –ø—Ä–æ–º–ø—Ç–µ —É–∫–∞–∂–∏—Ç–µ "Write in Russian"

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏

| –°–µ—Ä–≤–∏—Å | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-----------|
| VPS (2GB RAM, 1 CPU) | $5-10/–º–µ—Å |
| OpenAI API | $5-15/–º–µ—Å |
| Twitter API | $0 (Basic tier) |
| NewsAPI | $0 (100 req/day) |
| **–ò—Ç–æ–≥–æ** | **$10-25/–º–µ—Å** |

–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ RSS (–±–µ–∑ NewsAPI)
- –ö–µ—à–∏—Ä—É–π—Ç–µ embeddings
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ text-embedding-3-small (–¥–µ—à–µ–≤–ª–µ)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏
docker-compose logs > logs.txt

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps > status.txt

# –í–µ—Ä—Å–∏–∏
docker --version > versions.txt
docker-compose --version >> versions.txt
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
docker-compose down
docker-compose up -d --build

# –û—á–∏—Å—Ç–∫–∞ volumes (–£–î–ê–õ–ò–¢ –í–°–ï –î–ê–ù–ù–´–ï n8n)
docker-compose down -v

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
docker-compose restart scoring-api
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [n8n Documentation](https://docs.n8n.io/)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Twitter API Reference](https://developer.twitter.com/en/docs)
- [OpenAI API Reference](https://platform.openai.com/docs)

---

## ‚úÖ Checklist –¥–ª—è –∑–∞–ø—É—Å–∫–∞

- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] OpenAI API –∫–ª—é—á –ø–æ–ª—É—á–µ–Ω –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.env`
- [ ] Twitter Developer –∞–∫–∫–∞—É–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Twitter credentials –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env`
- [ ] `docker-compose up -d` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] `http://localhost:5678` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] `http://localhost:8000/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç OK
- [ ] Workflow –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –ü–µ—Ä–≤—ã–π —Ç–≤–∏—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω

**–ì–æ—Ç–æ–≤–æ! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç.**
